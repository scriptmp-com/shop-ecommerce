function popup_registration_dokan(e){var a={init:function(){var a=e("form.register");e(".user-role input[type=radio]",a).on("change",this.showSellerForm),e(".tc_check_box",a).on("click",this.onTOC),e("#shop-phone",a).keydown(this.ensurePhoneNumber),e("#company-name",a).on("focusout",this.generateSlugFromCompany),e("#seller-url",a).keydown(this.constrainSlug),e("#seller-url",a).keyup(this.renderUrl),e("#seller-url",a).on("focusout",this.checkSlugAvailability),this.validationLocalized()},validate:function(){e("form.register").validate({errorPlacement:function(a,t){var n=e(t).closest(".form-group");n.addClass("has-error").append(a)},success:function(a,t){e(t).closest(".form-group").removeClass("has-error")},submitHandler:function(e){e.submit()}})},showSellerForm:function(){var a=e(this).val();"seller"===a?(e(".show_if_seller").find("input, select").removeAttr("disabled"),e(".show_if_seller").slideDown(),e(".tc_check_box").length>0&&e("button[name=register]").attr("disabled","disabled")):(e(".show_if_seller").find("input, select").attr("disabled","disabled"),e(".show_if_seller").slideUp(),e(".tc_check_box").length>0&&e("button[name=register]").removeAttr("disabled"))},onTOC:function(){e(this).val();e(this).prop("checked")?(e("input[name=register]").removeAttr("disabled"),e("button[name=register]").removeAttr("disabled"),e("input[name=dokan_migration]").removeAttr("disabled")):(e("input[name=register]").attr("disabled","disabled"),e("button[name=register]").attr("disabled","disabled"),e("input[name=dokan_migration]").attr("disabled","disabled"))},ensurePhoneNumber:function(a){-1!==e.inArray(a.keyCode,[46,8,9,27,13,91,107,109,110,187,189,190])||65==a.keyCode&&a.ctrlKey===!0||a.keyCode>=35&&a.keyCode<=39||(a.shiftKey||a.keyCode<48||a.keyCode>57)&&(a.keyCode<96||a.keyCode>105)&&a.preventDefault()},generateSlugFromCompany:function(){var a=e(this).val();a||(a=""),a=decodeURIComponent(a),e("#seller-url").val(a),e("#url-alart").text(a),e("#seller-url").focus()},constrainSlug:function(a){e(this).val();-1!==e.inArray(a.keyCode,[46,8,9,27,13,91,109,110,173,189,190])||65==a.keyCode&&a.ctrlKey===!0||a.keyCode>=35&&a.keyCode<=39||(a.shiftKey||(a.keyCode<65||a.keyCode>90)&&(a.keyCode<48||a.keyCode>57))&&(a.keyCode<96||a.keyCode>105)&&a.preventDefault()},checkSlugAvailability:function(){var a=e(this),t={action:"shop_url",url_slug:a.val(),_nonce:dokan.nonce};if(""!==a.val()){var n=a.closest(".form-row");n.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),e.post(dokan.ajaxurl,t,function(a){a.success===!0?(e("#url-alart").removeClass("text-danger").addClass("text-success"),e("#url-alart-mgs").removeClass("text-danger").addClass("text-success").text(dokan.seller.available)):(e("#url-alart").removeClass("text-success").addClass("text-danger"),e("#url-alart-mgs").removeClass("text-success").addClass("text-danger").text(dokan.seller.notAvailable)),n.unblock()})}},renderUrl:function(){e("#url-alart").text(e(this).val())},validationLocalized:function(){var a=DokanValidateMsg;a.maxlength=e.validator.format(a.maxlength_msg),a.minlength=e.validator.format(a.minlength_msg),a.rangelength=e.validator.format(a.rangelength_msg),a.range=e.validator.format(a.range_msg),a.max=e.validator.format(a.max_msg),a.min=e.validator.format(a.min_msg),e.validator.messages=a}};if(e('input[name="nasa-caching-enable"]').length&&"1"===e('input[name="nasa-caching-enable"]').val())e("body").on("nasa_after_load_static_content",function(){if(e("#nasa-login-register-form form.register").length){a.init(),e(".show_if_seller").find("input, select").attr("disabled","disabled");var t=e(".woocommerce ul").hasClass("woocommerce-error")&&!e(".show_if_seller").is(":hidden");if(t){var n=e("form.register");e(".user-role input[type=radio]",n).trigger("change")}e(".tc_check_box").length>0&&(e("input[name=dokan_migration]").attr("disabled","disabled"),e("input[name=register]").attr("disabled","disabled"))}});else if(e("#nasa-login-register-form form.register").length){a.init(),e(".show_if_seller").find("input, select").attr("disabled","disabled");var t=e(".woocommerce ul").hasClass("woocommerce-error")&&!e(".show_if_seller").is(":hidden");if(t){var n=e("form.register");e(".user-role input[type=radio]",n).trigger("change")}e(".tc_check_box").length>0&&(e("input[name=dokan_migration]").attr("disabled","disabled"),e("input[name=register]").attr("disabled","disabled"))}}function change_layout_dokan_store(e,a){var t,n,s,r=new URL(window.location.href),i=!1;if(e(a).hasClass("productList"))t="list",i=!0,e(".nasa-content-page-products .products").removeClass("grid").addClass("list"),e("body").trigger("nasa_store_changed_layout_list");else{var o=e(a).attr("data-columns");switch(s="products grid",o){case"2":n=2,t="grid-2",s+=" large-block-grid-2";break;case"3":n=3,t="grid-3",s+=" large-block-grid-3";break;case"5":n=5,t="grid-5",s+=" large-block-grid-5";break;case"6":n=5,t="grid-6",s+=" large-block-grid-6";break;case"4":default:n=4,t="grid-4",s+=" large-block-grid-4"}var d=e(".nasa-content-page-products .products").find(".product-warp-item").length;if(d>0){var l=e(".nasa-content-page-products .products"),c=e(l).attr("data-columns_small"),g=e(l).attr("data-columns_medium");switch(c){case"2":s+=" small-block-grid-2";break;case"1":default:s+=" small-block-grid-1"}switch(g){case"3":s+=" medium-block-grid-3";break;case"4":s+=" medium-block-grid-4";break;case"2":default:s+=" medium-block-grid-2"}e(".nasa-content-page-products .products").attr("class",s)}e("body").trigger("nasa_store_changed_layout_grid",[o,s])}e(".nasa-change-layout").removeClass("active"),e(a).addClass("active"),e(a).hasClass("df")?r.searchParams.delete("view-layout"):r.searchParams.set("view-layout",t),window.history.pushState(r.href,"",r.href),e("body").trigger("nasa_before_change_view"),i?setTimeout(function(){e("body").trigger("nasa_before_change_view_timeout",[i])},500):e("body").trigger("nasa_before_change_view_timeout",[i])}function dokan_clone_group_btns_product_item(e){var a=e(".products").length&&e(".products").hasClass("list")?!0:!1;a&&e(".nasa-content-page-products .product-item").length&&e(".nasa-content-page-products .product-item").each(function(){var a=e(this);if(!e(a).hasClass("nasa-list-cloned")){e(a).addClass("nasa-list-cloned"),e(a).find(".group-btn-in-list").length<1&&e(a).append('<div class="group-btn-in-list nasa-group-btns hidden-tag"></div>');var t=e(a).find(".group-btn-in-list"),n="";if(e(a).find(".price-wrap").length?n=e(a).find(".price-wrap").html():e(a).find(".price").length&&(n=e(a).find(".price").clone().wrap('<div class="price-wrap"></div>').parent().html()),""!==n&&e(t).append('<div class="price-wrap">'+n+"</div>"),e(a).find(".nasa-list-stock-wrap").length&&(e(t).append(e(a).find(".nasa-list-stock-wrap").html()),e(a).find(".nasa-list-stock-wrap").remove()),e(a).find(".btn-link").length&&e(t).length){var s=e(a).find(".add-to-cart-grid").clone();e(s).length&&e(t).append(s),e(a).find(".btn-link").each(function(){var a=e(this).clone();e(a).hasClass("add-to-cart-grid")||e(t).append(a)}),e(t).find(".btn-link").length&&e(t).find(".btn-link").each(function(){e(this).find(".nasa-icon-text").length<=0&&e(this).find(".nasa-icon").length&&e(this).attr("data-icon-text")&&e(this).find(".nasa-icon").after('<span class="nasa-icon-text">'+e(this).attr("data-icon-text")+"</span>")}),e(t).find(".btn-wishlist.btn-link").length&&e(t).find(".add-to-cart-grid.btn-link").length&&e(t).find(".add-to-cart-grid.btn-link").after(e(t).find(".btn-wishlist.btn-link"))}if(e(a).find(".nasa-sc-pdeal-countdown .countdown").length){var r=e(a).find(".nasa-sc-pdeal-countdown").clone();e(r).find(".countdown").removeClass("is-countdown"),e(r).find(".countdown").removeClass("countdown-rtl"),e(r).find(".countdown").removeClass("countdown-loaded"),e(r).find(".countdown").html(""),e(a).find(".product-info-wrap .nasa-sc-pdeal-countdown").length?e(a).find(".product-info-wrap .nasa-sc-pdeal-countdown").replaceWith(r):e(a).find(".product-des-wrap").length?e(a).find(".product-des-wrap").before(r):e(a).find(".product-info-wrap").append(r),e("body").trigger("nasa_load_countdown")}}})}jQuery(document).ready(function(e){"use strict";if(e(".nasa-crazy-load.crazy-loading").length&&e(".nasa-crazy-load.crazy-loading").removeClass("crazy-loading"),e(".nasa-login-register-ajax").length&&e("#nasa-login-register-form").length&&"undefined"!=typeof dokan&&"undefined"!=typeof DokanValidateMsg&&popup_registration_dokan(e),e("body").on("nasa_login_register_ajax_inited",function(){e(".nasa-login-register-ajax").length&&e("#nasa-login-register-form").length&&"undefined"!=typeof dokan&&"undefined"!=typeof DokanValidateMsg&&popup_registration_dokan(e)}),e(".dokan-store-sidebar").length&&e(".dokan-single-store").length&&(e("body").prepend('<a class="toggle-sidebar-dokan hidden-tag" href="javascript:void(0);"><i class="nasa-icon pe7-icon pe-7s-menu"></i></a>'),e(".dokan-store-sidebar").prepend('<a href="javascript:void(0);" class="hidden-tag nasa-close-sidebar"></a>'),e("body").on("click",".toggle-sidebar-dokan",function(){e(".black-window").fadeIn(200),e(".dokan-store-sidebar").hasClass("nasa-active")||e(".dokan-store-sidebar").addClass("nasa-active")})),e("#wpadminbar").length){var a=e(".nasa-check-reponsive.nasa-switch-check").length&&1===e(".nasa-check-reponsive.nasa-switch-check").width()?!0:!1,t=e("body").hasClass("nasa-in-mobile")?!0:!1;if(a||t){var n=e("#wpadminbar").height();e(".dokan-store-sidebar").length&&e(".dokan-single-store").length&&e(".dokan-store-sidebar").css({top:n})}}e(".nasa-change-view").length&&e(".dokan-store-products-filter-area").length&&e(".dokan-store-products-filter-area").append(e(".nasa-change-view")),e("body").on("click",".nasa-change-layout",function(){var a=e(this);return e(a).hasClass("active")?!1:(change_layout_dokan_store(e,a),void 0)}),dokan_clone_group_btns_product_item(e),e("body").on("nasa_store_changed_layout_list",function(){dokan_clone_group_btns_product_item(e)}),e(".nasa-store-lists-filters .toggle-view").length&&setTimeout(function(){e('.nasa-store-lists-filters .toggle-view [data-view="grid-view"]').length&&e('.nasa-store-lists-filters .toggle-view [data-view="grid-view"]').trigger("click"),e(".nasa-store-lists-filters .toggle-view").remove()},100)});