function nasa_render_shipping_in_cart(e){e("#payment .form-row").length&&e("#payment .form-row").removeClass("form-row"),e("#shipping_method.hide-check-shipping li").length&&e("#shipping_method.hide-check-shipping li").each(function(){var a=e(this);!e(a).hasClass("active")&&e(a).find('select.shipping_method, input[name^="shipping_method"][type="radio"]:checked, input[name^="shipping_method"][type="hidden"]').length&&e(a).addClass("active")})}function nasa_update_shipping_methods(e){if(e(".shipping-wrap-modern").length&&e(".order-shipping-modern").length){var a="",n=!1,o="";e(".shipping-wrap-modern").each(function(){var i=e(this);if(e(i).find("#shipping_method").length){var r=e(i).find(".shipping-package-name").html();a+='<tr class="order-shipping-modern woocommerce-shipping-totals shipping">',a+="<th>"+r+"</th>",a+="<td>",a+='<ul id="shipping_method_clone" class="woocommerce-shipping-methods-clone">',e(i).find("#shipping_method li").each(function(){var i=e(this);if(e(i).find('select.shipping_method, input[name^="shipping_method"][type="radio"]:checked, input[name^="shipping_method"][type="hidden"]').length){var r=i.clone();e(r).find('select.shipping_method, input[name^="shipping_method"][type="radio"]:checked, input[name^="shipping_method"][type="hidden"], button, .button, script, #lpc_layer_error_message').remove(),o=e(r).html(),a+="<li>"+o+"</li>",n=!0}}),a+="</ul>",a+="</td></tr>"}else e("#nasa-billing-info .customer-info-method").remove()}),n&&(e(".order-shipping-modern").replaceWith(a),e("#nasa-billing-info .customer-info-method .customer-info-right").html(o))}e(".woocommerce-checkout-review-order-table").addClass("nasa-loaded")}function nasa_move_valiate_notices(e){var a=!1;e(".woocommerce-error li").length&&(e(".woocommerce-error li").each(function(){var n=e(this),o=e(n).attr("data-id");if("undefined"!=typeof o&&e("#"+o).length){var i=e("#"+o).parents(".form-row");if(e(i).length){var r=e(n).html();e(i).find(".nasa-error").length?e(i).find(".nasa-error").html(r):e("#"+o).parents(".woocommerce-input-wrapper").length?e("#"+o).parents(".woocommerce-input-wrapper").append('<span class="nasa-error">'+r+"</span>"):e("#"+o).after('<span class="nasa-error">'+r+"</span>"),e(i).hasClass("woocommerce-invalid")||(e(i).removeClass("woocommerce-validated"),e(i).addClass("woocommerce-invalid")),e(n).remove(),a=!0,e(".nasa-bc-modern .nasa-payment-step").hasClass("active")&&e("#ns-billing-different").length&&e("#ns-billing-different").is("checked")&&(a=!1)}}}),e(".woocommerce-error li").length?e(".woocommerce-error").show():e(".woocommerce-error").hide(),a&&e(".nasa-bc-modern .nasa-billing-step").length&&e(".nasa-bc-modern .nasa-billing-step").trigger("click"))}function nasa_validate_form_checkout(e){var a=e("form.checkout");if(e(a).length<=0)return!1;var n=e(a).find('[name="ship_to_different_address"]').is(":checked")?!0:!1,o=n?e(a).find("#customer_details"):e(a).find(".woocommerce-billing-fields");e(o).find(".form-row").each(function(){nasa_validate_field(e,this)});var i=!0;e("#ns-checkout-contact").length&&(e("#ns-checkout-contact").find(".form-row").each(function(){nasa_validate_field(e,this)}),i=e("#ns-checkout-contact").find(".nasa-invalid, .nasa-error").length?!1:!0);var r=e(o).find(".nasa-invalid, .nasa-error").length?!1:!0;return i&&r?!0:!1}function nasa_validate_field(e,a){var n=e(a).find(".input-text, select, input:checkbox"),o=!0,i=e(a).is(".validate-required"),r=e(a).is(".validate-email"),t=e(a).is(".validate-phone"),s="",c="";if(e(a).find("#account_password").length){var l=e(a).parents(".woocommerce-account-fields");e(l).find("#createaccount").length&&!e(l).find("#createaccount").is(":checked")&&(i=!1)}return e(a).removeClass("nasa-invalid"),i&&("checkbox"!==n.attr("type")||n.is(":checked")?""===n.val()&&(e(a).removeClass("woocommerce-validated").addClass("woocommerce-invalid woocommerce-invalid-required-field"),o=!1,e(a).find(".nasa-error").length<=0&&(c=e(".nasa-require-notice").html(),e(n).parents(".woocommerce-input-wrapper").length?e(n).parents(".woocommerce-input-wrapper").append('<span class="nasa-error">'+c+"</span>"):e(n).after('<span class="nasa-error">'+c+"</span>"))):(e(a).removeClass("woocommerce-validated").addClass("woocommerce-invalid woocommerce-invalid-required-field"),o=!1,e(a).find(".nasa-error").length<=0&&(c=e(".nasa-require-notice").html(),e(n).parents(".woocommerce-input-wrapper").length?e(n).parents(".woocommerce-input-wrapper").append('<span class="nasa-error">'+c+"</span>"):e(n).after('<span class="nasa-error">'+c+"</span>")))),r&&n.val()&&(s=new RegExp(/^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i),s.test(n.val())||(e(a).removeClass("woocommerce-validated").addClass("woocommerce-invalid woocommerce-invalid-email woocommerce-invalid-phone"),o=!1,e(a).find(".nasa-error").length<=0&&(c=e(".nasa-email-notice").html(),e(n).after('<span class="nasa-error">'+c+"</span>")))),t&&(s=new RegExp(/[\s\#0-9_\-\+\/\(\)\.]/g),0<n.val().replace(s,"").length&&(e(a).removeClass("woocommerce-validated").addClass("woocommerce-invalid woocommerce-invalid-phone"),o=!1,e(a).find(".nasa-error").length<=0&&(c=e(".nasa-phone-notice").html(),e(n).after('<span class="nasa-error">'+c+"</span>")))),o?e(a).removeClass("woocommerce-invalid woocommerce-invalid-required-field woocommerce-invalid-email woocommerce-invalid-phone").addClass("woocommerce-validated"):e(a).addClass("nasa-invalid"),o}function nasa_validate_form_checkout_post(e){var a=e("form.checkout");if(e(a).length<=0)return!1;if(!e(a).hasClass("ns-validating")&&!e(a).hasClass("ns-validated-first")&&"undefined"!=typeof nasa_ajax_params&&"undefined"!=typeof nasa_ajax_params.wc_ajax_url){var n=nasa_ajax_params.wc_ajax_url.toString().replace("%%endpoint%%","nasa_validate_checkout_modern");e.ajax({url:n,type:"post",dataType:"json",cache:!1,data:a.serialize(),beforeSend:function(){e(a).hasClass("ns-validating")||e(a).addClass("ns-validating")},success:function(n){e(a).removeClass("ns-validating"),"failure"===n.result?n.messages&&(e(".woocommerce-NoticeGroup-checkout, .woocommerce-error, .woocommerce-message").remove(),e(a).prepend('<div class="woocommerce-NoticeGroup woocommerce-NoticeGroup-checkout">'+n.messages+"</div>"),e(document.body).trigger("checkout_error",[n.messages])):e(a).addClass("ns-validated-first")},error:function(){e(a).removeClass("ns-validating")}})}}function nasa_clone_notices_coupon(e){e(".coupon-clone-wrap").length&&e(".woocommerce-error, .woocommerce-message").length&&(e(".woocommerce-error, .woocommerce-message").each(function(){var a=e(this);e(".coupon-clone-wrap").after(a)}),e(".woocommerce-error, .woocommerce-message").show())}function nasa_update_checkout_contact_info(e){if(e(".checkout-modern-wrap").length){e("#ns-checkout-contact").length&&(e("#billing_email_field").length&&e(".nasa-email-field").length&&e(".nasa-email-field").replaceWith(e("#billing_email_field")),e("#customer_details .woocommerce-account-fields").length&&e("#ns-checkout-contact .form-row-wrap").length&&e("#ns-checkout-contact .form-row-wrap").append(e("#customer_details .woocommerce-account-fields")));var a,n;e("#billing_company_field").length&&!e("#billing_company_field").hasClass("validate-required")&&(a=e("#billing_company_field").find("label").clone(),n='<p class="form-row form-row-wide no-underline form-row-add-field"><a class="add-field nasa-flex" data-target="billing_company_field" href="javascript:void(0);"><i class="pe-7s-plus"></i>&nbsp;'+e(a).text()+"</a></p>",e("#billing_company_field").before(n)),e("#shipping_company_field").length&&!e("#shipping_company_field").hasClass("validate-required")&&(a=e("#shipping_company_field").find("label").clone(),n='<p class="form-row form-row-wide no-underline form-row-add-field"><a class="add-field nasa-flex" data-target="shipping_company_field" href="javascript:void(0);"><i class="pe-7s-plus"></i>&nbsp;'+e(a).text()+"</a></p>",e("#shipping_company_field").before(n)),e(".ns-shipping-first .woocommerce-billing-fields").length&&e("#nasa-billing-detail-wrap .woocommerce-billing-fields").length&&(e("#nasa-billing-detail-wrap .woocommerce-billing-fields").replaceWith(e(".ns-shipping-first .woocommerce-billing-fields")),e("body").trigger("country_to_state_changed"))}}jQuery(document).ready(function(e){"use strict";var a=!1;e("#payment .form-row").length&&e("#payment .form-row").removeClass("form-row"),e("#main-content .form-row input, #main-content .form-row select, #main-content .form-row textarea").length&&e("#main-content .form-row input, #main-content .form-row select, #main-content .form-row textarea").each(function(){var a=e(this),n=e(a).parents(".form-row");if(e(n).parents("#order_review, #payment").length<1){var o=e(a).parents("form.woocommerce-EditAccountForm").length?!0:!1,i=e(a).val();if(e(n).length&&e(n).hasClass("validate-required")&&e(n).find("label[for]").length){var r=e(a).attr("placeholder");if(r){var t=e(n).find("label[for] .required").length?e(n).find("label[for] .required").text():"*";e(a).attr("placeholder",r+" "+t)}}if((""!==i||o)&&e(n).length&&e(n).find("label[for]").length){var s=e(n).find("label[for]").attr("for");e(n).find('input[type="hidden"]#'+s+', input[type="radio"]#'+s+', input[type="checkbox"]#'+s).length<=0?e(n).hasClass("nasa-actived")||e(n).addClass("nasa-actived"):e(n).hasClass("nasa-dffr")||e(n).addClass("nasa-dffr")}}}),e("body").on("keyup","#main-content .form-row input, #main-content .form-row textarea",function(){var a=e(this),n=e(a).parents(".form-row");if(e(n).length&&!e(n).hasClass("nasa-dffr")&&e(n).find("label[for]").length)if(""!==e(a).val())e(n).hasClass("nasa-actived")||e(n).addClass("nasa-actived"),e(n).find(".nasa-error").length&&e(n).find(".nasa-error").remove();else{var o=e(a).parents("form.woocommerce-EditAccountForm").length?!0:!1;o||e(n).removeClass("nasa-actived")}e("form.checkout").removeClass("ns-validated-first")}),e("body").on("change","#main-content .form-row select",function(){var a=e(this),n=e(a).parents(".form-row");if(e(n).length&&!e(n).hasClass("nasa-dffr")&&e(n).find("label[for]").length)if(""!==e(a).val())e(n).hasClass("nasa-actived")||e(n).addClass("nasa-actived"),e(n).find(".nasa-error").length&&e(n).find(".nasa-error").remove();else{var o=e(a).parents("form.woocommerce-EditAccountForm").length?!0:!1;o||e(n).removeClass("nasa-actived")}}),nasa_move_valiate_notices(e),e("body").on("checkout_error",function(){nasa_move_valiate_notices(e)}),e("body").on("applied_coupon_in_checkout",function(){nasa_move_valiate_notices(e),e(".coupon-clone-wrap").length&&(e(".woocommerce-error, .woocommerce-message").hide(),a=!0)}),e("body").on("removed_coupon_in_checkout",function(){e(".coupon-clone-wrap").length&&(e(".woocommerce-error, .woocommerce-message").hide(),a=!0)}),e("body").on("click",".showcoupon",function(){e(".woocommerce-error").length&&e(".woocommerce-error").hide()}),e("body").on("checkout_error",function(){e("#nasa-billing-detail-wrap").length&&e(".nasa-bc-modern .nasa-payment-step").trigger("click")}),e("body").on("click",".nasa-shipping-step",function(){if(!e(".nasa-bc-modern .nasa-shipping-step").hasClass("active")){var a=nasa_validate_form_checkout(e);a&&(e("body").trigger("nasa_update_custommer_info"),e(".woocommerce-additional-fields").fadeIn(200),e("#nasa-billing-info").fadeIn(200),e("#nasa-shipping-methods").fadeIn(200),e("#nasa-step_payment").fadeIn(200),e("#ns-checkout-contact").hide(),e(".woo-billing").hide(),e("#nasa-step_billing").hide(),e("#nasa-payment-wrap").hide(),e("#nasa-billing-detail-wrap").hide(),e(".woocommerce-form-login-toggle").length&&(e(".woocommerce-form-login-toggle").hide(),e(".woocommerce-form-login").hide()),e(".nasa-bc-modern .nasa-billing-step").removeClass("active"),e(".nasa-bc-modern .nasa-shipping-step").addClass("active"),e(".nasa-bc-modern .nasa-payment-step").removeClass("active"))}}),e("body").on("click",".nasa-payment-step",function(){if(!e(".nasa-bc-modern .nasa-payment-step").hasClass("active")){var a=nasa_validate_form_checkout(e);a&&(e("body").trigger("nasa_update_custommer_info"),e("#nasa-payment-wrap").fadeIn(200),e("#nasa-billing-info").fadeIn(200),e("#nasa-billing-detail-wrap").fadeIn(200),e("#ns-checkout-contact").hide(),e(".woocommerce-additional-fields").hide(),e(".woo-billing").hide(),e("#nasa-shipping-methods").hide(),e("#nasa-step_payment").hide(),e("#nasa-step_billing").hide(),e(".woocommerce-form-login-toggle").length&&(e(".woocommerce-form-login-toggle").hide(),e(".woocommerce-form-login").hide()),e("#nasa-billing-info .customer-info").removeClass("hidden-tag"),e(".nasa-bc-modern .nasa-billing-step").removeClass("active"),e(".nasa-bc-modern .nasa-shipping-step").removeClass("active"),e(".nasa-bc-modern .nasa-payment-step").addClass("active"))}}),e("body").on("click",".nasa-billing-step",function(){e(".nasa-bc-modern .nasa-billing-step").hasClass("active")||(e("body").trigger("nasa_update_custommer_info"),e("#ns-checkout-contact").fadeIn(200),e(".woo-billing").fadeIn(200),e("#nasa-step_billing").fadeIn(200),e(".woocommerce-form-login-toggle").length&&e(".woocommerce-form-login-toggle").fadeIn(200),e(".woocommerce-additional-fields").hide(),e("#nasa-billing-info").hide(),e("#nasa-shipping-methods").hide(),e("#nasa-step_payment").hide(),e("#nasa-payment-wrap").hide(),e("#nasa-billing-detail-wrap").hide(),e(".nasa-bc-modern .nasa-billing-step").addClass("active"),e(".nasa-bc-modern .nasa-shipping-step").removeClass("active"),e(".nasa-bc-modern .nasa-payment-step").removeClass("active"))}),e("body").on("click",".showcoupon-clone",function(){e(".coupon-clone-wrap").toggleClass("hidden-tag"),e(".coupon-clone-wrap").find(":input:eq(0)").trigger("focus")}),e("body").on("click","#apply_coupon_clone",function(){if(e('input[name="coupon_code_clone"]').length&&e('form.checkout_coupon input[name="coupon_code"]').length){e(".woocommerce-error, .woocommerce-message").hide();var a=e('input[name="coupon_code_clone"]').val();e('form.checkout_coupon input[name="coupon_code"]').val(a).trigger("change"),e("form.checkout_coupon").trigger("submit"),e(".woocommerce-checkout-review-order").addClass("processing")}}),e("body").on("change",'select.shipping_method, input[name^="shipping_method"], #ship-to-different-address input, .update_totals_on_change select, .update_totals_on_change input[type="radio"], .update_totals_on_change input[type="checkbox"]',function(){e(".checkout-modern-wrap").length&&!e(".woocommerce-checkout-review-order").hasClass("processing")&&e(".woocommerce-checkout-review-order").addClass("processing")}),e("body").on("nasa_update_custommer_info",function(){if(e("#payment .form-row").length&&e("#payment .form-row").removeClass("form-row"),nasa_validate_form_checkout_post(e),e("body").trigger("update_checkout"),e("#nasa-billing-info").length){var a=e('input[name="billing_email"]').val();e("#nasa-billing-info .customer-info-email .customer-info-right").html(a)}}),e("body").on("updated_checkout",function(){if(e(".checkout-modern-wrap").length){if(e(".processing").removeClass("processing"),nasa_update_shipping_methods(e),e(".checkout-modern-wrap .woocommerce-additional-fields").length&&e("#nasa-shipping-methods").length){var n=e(".checkout-modern-wrap .woocommerce-additional-fields").clone();e(".checkout-modern-wrap .woocommerce-additional-fields").remove(),e("#nasa-shipping-methods").after(n)}a&&(nasa_clone_notices_coupon(e),e(".woocommerce-error").length&&e(".coupon-clone-wrap").length&&e(".coupon-clone-wrap").find(":input:eq(0)").trigger("focus")),a=!1}}),e("body").on("click",".your-order-mobile",function(){e(".checkout-modern-right-wrap").length&&!e(".checkout-modern-right-wrap").hasClass("nasa-active")&&e(".checkout-modern-right-wrap").addClass("nasa-active")}),e("body").on("click",".close-your-order-mobile",function(){e(".checkout-modern-right-wrap").length&&e(".checkout-modern-right-wrap").removeClass("nasa-active")}),nasa_render_shipping_in_cart(e),e("body").on("updated_wc_div",function(){nasa_render_shipping_in_cart(e),e(".woocommerce-notices-wrapper").length&&e(".woocommerce-notices-wrapper").each(function(){var a=e(this);if(e(a).find(".cart-empty").length){var n=e(a).find(".cart-empty");e(a).after(n)}e(a).find("*").length&&e(a).find(".nasa-close-notice").length<=0&&e(a).append('<a class="nasa-close-notice" href="javascript:void(0);"></a>')})}),e("body").on("change",".nasa-shopping-cart-form.qty-auto-update .quantity .qty",function(){var a=e(this).parents(".nasa-shopping-cart-form"),n=e(a).find("[name=update_cart]");e(n).length&&e(n).prop("disabled",!1).trigger("click")}),e("body").on("change",".co-wrap-item .qty",function(a){if("undefined"!=typeof nasa_ajax_params&&"undefined"!=typeof nasa_ajax_params.wc_ajax_url){var n=nasa_ajax_params.wc_ajax_url.toString().replace("%%endpoint%%","nasa_quantity_mini_cart"),o=e(this),i=e(o).parents(".shop_table"),r=e(o).attr("name").replace(/cart\[([\w]+)\]\[qty\]/g,"$1"),t=parseFloat(e(o).attr("max"));t||(t=!1);var s=parseFloat(e(o).val()),c=parseFloat(e(o).attr("data-old"));if(c||(c=s),t>0&&s>t&&(e(o).val(t),s=t),c!==s){var l=!0;if(0>=s){var d=e('input[name="nasa_change_value_0"]').length?e('input[name="nasa_change_value_0"]').val():"Are you sure you want to remove it?";l=confirm(d)}l?e.ajax({url:n,type:"post",dataType:"json",cache:!1,data:{hash:r,quantity:s,"no-mess":1},beforeSend:function(){e(i).hasClass("processing")||e(i).addClass("processing")},success:function(a){a&&a.fragments&&(e.each(a.fragments,function(a,n){e(a).length&&e(a).replaceWith(n)}),e("body").trigger("added_to_cart",[a.fragments,a.cart_hash,!1,!1]),e("body").trigger("wc_fragments_refreshed"),e("body").trigger("nasa_init_shipping_free_notification"),a.url_redirect?window.location.href=a.url_redirect:e("body").trigger("update_checkout"))},error:function(){e(document.body).trigger("wc_fragments_ajax_error"),e(i).removeClass("processing")}}):e(o).val(c)}}a.preventDefault()}),e("body").on("nasa_update_checkout_contact_info",function(){nasa_update_checkout_contact_info(e)}).trigger("nasa_update_checkout_contact_info"),e("body").on("click",".form-row .add-field",function(){var a=e(this),n=e(a).attr("data-target"),o=e(a).parents(".form-row");e("#"+n).length&&e("#"+n).slideDown(250),e(o).slideUp(200)}),e(".form-row .add-field").length&&e(".form-row .add-field").each(function(){var a=e(this),n=e(a).attr("data-target");e("#"+n).length&&e("#"+n).find("input").length&&""!==e("#"+n).find("input").val()&&e(a).trigger("click")}),e("body").on("change",'input[name="ns-billing-select"]',function(){"different"===e(this).val()?e(".ns-different-shipping .woocommerce-billing-fields").slideDown(300):e(".ns-different-shipping .woocommerce-billing-fields").slideUp(300),e("body").trigger("country_to_state_changed")})});